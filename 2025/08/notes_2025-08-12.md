[Home](../../main.md) | [Prev: Day 208](notes_2025-08-11.md) | [Next: Day 210](./notes_2025-08-13.md)

## üìù Day 209, Tuesday - `notes_2025-08-12.md`

### US348
- Create a tool to transform user Mass-Spec data to a standardized analysis format
    * The notation like K18aK23a typically refers to a protein peptide or histone tail segment with specific post-translational modifications (PTMs) at lysine (K) residues.
    * K18a means lysine at position 18 is acetylated (the "a" usually stands for acetylation).
    * K23a means lysine at position 23 is also acetylated.
    K18aK23a means both lysines 18 and 23 are acetylated simultaneously on that peptide.
    * K9p = lysine 9 is propionylated (or phosphorylated depending on context, but often "p" means propionyl or phosphorylation).
    * K27pK36aK37a = lysine 27 is propionylated/phosphorylated, lysines 36 and 37 acetylated.
    * installed `xlsxwriter` library in jupyter notebook env
    * these are the columns to pivot on: `df[['Analyte Peak Name', 'Sample Name', 'Analyte Peak Area (counts)']]`
    * loop `with pd.ExcelWriter(output_filename, engine='xlsxwriter') as writer:` to output each group as a separate tab in the `xlsx` file 
    * removed TLJH, was locked out due to insstalling nativeauthenticator
    * installed jupyterlab using docker
```ps
docker run -d -p 8888:8888 -v C:/Users/Disco-lx/OneDrive` -` Prelude` Therapeutics/Documents/PYTHON~1:/home/jovyan/work jupyter/base-notebook
```

* continue work on `acetylation_calcs.ipynb`; adding widgets for file selection


### US341
- develop script to ingest tecan file and upload using mosaic api
    * confirmed that `time_start` and `time_end` from `root` table for tecan parser is extracted from the original file:

```
"Started","08/05/2025","10:36:10 AM"
"Completed","08/05/2025","10:50:10 AM"
```


```sql
-- to confirm the time_end and time_start
WITH plate_files AS (
  SELECT DISTINCT parent_uuid,
     regexp_extract(
        regexp_extract("$path", '[^/]+$'), 
            '([^__]+\.csv)(?=__|$)'
     ) AS file_name
  FROM client_preludetx_tecan_parser_v1_plates
  WHERE name IN ('999104_01', '999104_02')
)
  SELECT 
    pf.parent_uuid,
    pf.file_name,
    r.time_start,
    r.time_end,
    r.experiment_protocol
  FROM plate_files pf
  JOIN "client_preludetx_tecan_parser_v1_root" r
  ON pf.parent_uuid = r.uuid
  WHERE 
    pf.file_name = '999104%202025-08-05.csv'
  ORDER BY r.time_start DESC
```
