[Home](../../main.md) | [Prev: Day 218](notes_2025-08-25.md) | [Next: Day 220](./notes_2025-08-27.md)

## üìù Day 219, Tuesday - `notes_2025-08-26.md`

### US341
- develop script to ingest tecan file and upload using mosaic api
    * the issue was NOT the need to calculate final concentration after dilution `C_1 * V_1 = C_2 * V_2`
    * client did not seem well versed in this and not able to relay information, not well communicated
    * mentioned that the SU high concentration value in uM was 1000 off, but it is exactly what the raw `.csv` shows
    * mentioned that 3 experiments show the same discrepency in SU high concentration, although the raw `.csv` file shows the same value; thus not sure what the issue is
        * the concentration for all three in backend of mosaic all show up as for C03 well; the only difference is the `displayExponent`:
        * 276245 = mosaic upload in M concentration
        * 276475 = mosaic upload in mM concentration
        * 276476 = mosaic upload in uM concentration

```json
"concentration": {
    "value": 0.001444,
    "unitType": 1,
    "displayExponent": -6,
    "resolution": -6
}
```

- if the input value is `0.001444` then it shows up the same in SU studies
    * but they want it to show up in uM so it should be 1.44 uM
    * probably the TS pipeline for `BMG Labtech Pherastar IDS to Dotmatics` expects the values to be in uM but is getting mM
    * cannot do anything because the code is no accessible
    * client mentioned, the original results actually were correct for the `Post Tecan IDS to Mosaic` pipeline; need to revert code; however they show the same results as the manual upload, thus confusing...

- reverted code to only assign displayExponent based on the `conc_unit` extracte from athena data
    * refactor concentration/volume conversion to standardize on Titian base units - Add explicit float return type hints to conversion and calculation functions - Update `convert_volume_to_uL` and `convert_conc_to_mM` docstrings to specify Titian base units - Simplify `convert_conc_to_mM` to return only mM value (remove display exponent handling) - Refactor `calculate_final_conc` to compute and return final concentration in mM - Adjust `build_sample_holder` to calculate display exponent dynamically (mM, ¬µM, nM) - Ensure consistent use of microliter (¬µL) and millimolar (mM) units across calculations


### US352
- New ADC Project planning
    * Basically a copy/clone of Bioregister project page with most tables but not all included
    * After today's meeting 2025-26-AUG @14:00, it was informed that client wants separate project page and thus the dynamic DS would not be an option

### US358
- Mosaic to Dotmatics pipeline does not populate correct inventory values
    * Client reports that regardless of the concentrations loaded to MOSAIC, the plates sent to Screening Ultra always have the same concentration.  Here are three examples: 
    * 3 plates that went into Mosaic and Pherastar...each plate had different input concentration units in mosaic upload but showing same concentration in SU notebook IDs below:
        * 276245 = mosaic upload in M concentration
        * 276475 = mosaic upload in mM concentration
        * 276476 = mosaic upload in uM concentration
    * This is all in PROD
    * Modify Mosaic to Screening Ultra pipeline to convert the compound concentrations from mM to uM to match the SU protocol.   
    * seems unlikely because without access to code we cannot intercept Step 3 (`BMG Labtech Pherastar IDS to Dotmatics`) to change the concentration
