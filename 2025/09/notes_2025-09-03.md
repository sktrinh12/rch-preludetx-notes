[Home](../../main.md) | [Prev: Day 223](notes_2025-09-02.md) | [Next: Day 225](./notes_2025-09-04.md)

## üìù Day 224, Wednesday - `notes_2025-09-03.md`

### US348
- Create a tool to transform user Mass-Spec data to a standardized analysis format
    * no actual changes for `acetylation_analysis_client.ipynb`, just output cells have different content
    * made significant changes to `acetylation_analysis.ipynb` and `mass_spec_module.py`
        * able to output subsets of the sample peak analyte names
    * Refactor data export and add Excel download button in Jupyter 
        - Added `pivot_df` to fractionated Excel export with a separate sheet
        - Updated `pivot_and_fractionate()` to return `pivot_df` and handle missing analyte peaks gracefully
        - Added `read_instrument_txt()` to auto-detect header and normalize Sample Name
        - Replaced hyphens with underscores in Sample Name and cleaned double underscores
        - Implemented `download_excel_link()` to provide a styled, interactive download button in notebooks
        - Minor code style updates (quotes, whitespace, formatting).
    * the order of concentrations were not ordered lexicographically properly; however in the jupyterlab code, it will order properly
    * client mentioned will only ever be subsets of the first file type for sample analyte names (lysine residues)
        * thus use of a statically defined dictionary was used; updated logic to skip or continue when sample analyte peak name does not exist


```python
from_file_2 = [
    'K18aK23a', 'K18aK23p', 'K18pK23a', 'K18pK23p',
    'K4a', 'K4p',
    'K9aK14a', 'K9aK14p', 'K9pK14a', 'K9pK14p'
]


from_file_1 = [
    'K18aK23a', 'K18aK23p', 'K18pK23a', 'K18pK23p',   # same
    'K4a', 'K4p',                                     # same
    'K9aK14a', 'K9aK14p', 'K9pK14a', 'K9pK14p',       # same
    'K27aK36aK37a', 'K27pK36aK37a', 'K27aK36aK37p', # extra
    'K27aK36pK37a', 'K27pK36pK37a', 'K27pK36aK37p', # extra
    'K27aK36pK37p', 'K27pK36pK37p',                   # extra
    'K56a', 'K56p',                                   # extra
    'K64a', 'K64p',                                   # extra
    'K79a', 'K79p'                                    # extra
]
```

### US361
- Fix Dual Payload PRTs
    * user is requesting documentation on how to add secondary payload in bioregister, simply create a word document
    * wrote short guide and included screenshots
    * used markdown instead, seemed more effective and quick
    * printed from browser and saved as `.pdf`
    * attached to devops story

- [How to Add a Chemical Entity in Bioregister](./bioregister_chem_add_instructions.md)
